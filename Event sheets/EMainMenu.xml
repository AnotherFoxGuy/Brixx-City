<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>EMainMenu</name>
    <events>
        <variable constant="0" name="LoadLayout" sid="8946723654057142" static="0" type="text">zero</variable>
        <include>ECar</include>
        <include>ECitizen</include>
        <event-block sid="341554880756883">
            <conditions>
                <condition id="-2" name="On start of layout" sid="6693927671896533" type="System" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="5" name="Add obstacle" sid="2250072137498422" type="Citizen">
                    <param id="0" name="Obstacle">Tilemap</param>
                </action>
                <action id="-10" name="Set value" sid="9849219367603613" type="MainMenuFill">
                    <param id="0" name="Instance variable">MaxX</param>
                    <param id="1" name="Value">MainMenuFill.X</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="7623670197693948" type="StartGame">
                    <param id="0" name="Pin to">MainMenuFill</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="2429009271353638" type="Tutorial">
                    <param id="0" name="Pin to">MainMenuFill</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="555917859771315" type="SaveLoadList">
                    <param id="0" name="Pin to">SaveBox</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="2093621051498763" type="Thumbnail">
                    <param id="0" name="Pin to">SaveBox</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="7864115246781946" type="LoadButton">
                    <param id="0" name="Pin to">MainMenuFill</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="0" name="Spawn another object" sid="4550617998266052" type="House">
                    <param id="0" name="Object">DynamicObjects</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">1</param>
                </action>
                <action id="-2" name="Set Y" sid="7312904737871657" type="SaveBox">
                    <param id="0" name="Y">MainMenuFill.Y</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="3905963689614219">
                    <conditions>
                        <condition id="-10" name="For" sid="5232213175200576" type="System">
                            <param id="0" name="Name">&quot;Add Savegames&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">WebStorage.LocalCount</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Add item" sid="7636404535655951" type="SaveLoadList">
                            <param id="0" name="Text">WebStorage.LocalKeyAt(loopindex)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="226729693997092">
            <conditions>
                <condition id="-1" name="Every tick" sid="6706418948734436" type="System" />
            </conditions>
            <actions>
                <action id="-3" name="Set position" sid="6418073162702126" type="Overlay">
                    <param id="0" name="X">0</param>
                    <param id="1" name="Y">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7618603977738546">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="9902915776821369" type="System">
                    <param id="0" name="Interval (seconds)">10</param>
                </condition>
                <condition id="-16" name="Pick random instance" sid="4120198175015365" type="System">
                    <param id="0" name="Object">House</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Spawn another object" sid="3349736515383125" type="House">
                    <param id="0" name="Object">DynamicObjects</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3222552351036172">
            <conditions>
                <condition id="0" name="On clicked" sid="3033452494973652" type="StartGame" />
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="3052851012374106" type="MainMenuFill">
                    <param id="0" name="Instance variable">Move</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-9" name="Set value" sid="365137366250837" type="System">
                    <param id="0" name="Variable">LoadLayout</param>
                    <param id="1" name="Value">&quot;MainGame&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8975355210762005">
            <conditions>
                <condition id="0" name="On clicked" sid="357303932888126" type="Tutorial" />
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="1626316271951474" type="MainMenuFill">
                    <param id="0" name="Instance variable">Move</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-9" name="Set value" sid="1467286807435978" type="System">
                    <param id="0" name="Variable">LoadLayout</param>
                    <param id="1" name="Value">&quot;Tutorial&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1434951244482448">
            <conditions>
                <condition id="-8" name="Is boolean instance variable set" sid="1069979222974591" type="MainMenuFill">
                    <param id="0" name="Instance variable">Move</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="4964415956755478">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="7600410330594661" type="MainMenuFill">
                            <param id="0" name="Instance variable">MaxX</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">160</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="8335919189158184" type="MainMenuFill">
                            <param id="0" name="X">MainMenuFill.X+5</param>
                        </action>
                        <action id="-11" name="Add to" sid="33071338975878" type="MainMenuFill">
                            <param id="0" name="Instance variable">MaxX</param>
                            <param id="1" name="Value">5</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3705117454087522">
                    <conditions>
                        <condition id="-22" name="Else" sid="526095746475405" type="System" />
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="9593683750073754" type="MainMenuFill">
                            <param id="0" name="X">MainMenuFill.X-20</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="7047853790236563">
            <conditions>
                <condition id="-1" name="Compare X" sid="7441936253990126" type="MainMenuFill">
                    <param id="0" name="Comparison">2</param>
                    <param id="1" name="X co-ordinate">-1500</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="2143732190287113">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="6413077352524996" type="System">
                            <param id="0" name="Variable">LoadLayout</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Value">&quot;zero&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-25" name="Go to layout (by name)" sid="9292564336704282" type="System">
                            <param id="0" name="Layout">LoadLayout</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1715433664541711">
                    <conditions>
                        <condition id="-22" name="Else" sid="7753693563466944" type="System" />
                    </conditions>
                    <actions>
                        <action id="-37" name="Load" sid="5275038695807596" type="System">
                            <param id="0" name="Slot">SaveLoadList.SelectedText</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="6692086425672289">
            <conditions>
                <condition id="0" name="On clicked" sid="3297233765566952" type="LoadButton" />
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="9805959592558728" type="SaveBox">
                    <param id="0" name="Instance variable">Move</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-13" name="Set boolean" sid="9960287164402806" type="SaveLoadList">
                    <param id="0" name="Instance variable">Save</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="6707018320725002">
            <conditions>
                <condition id="-8" name="Is boolean instance variable set" sid="1393194100598298" type="SaveBox">
                    <param id="0" name="Instance variable">Move</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="8353175785051328">
                    <conditions>
                        <condition id="-1" name="Compare X" sid="6652921581626349" type="SaveBox">
                            <param id="0" name="Comparison">3</param>
                            <param id="1" name="X co-ordinate">700</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="3023637936125281" type="SaveBox">
                            <param id="0" name="X">SaveBox.X+40</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="5134815895859105">
                    <conditions>
                        <condition id="-22" name="Else" sid="4021793634185227" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Pin" id="0" name="Pin to object" sid="5969266246952746" type="SaveBox">
                            <param id="0" name="Pin to">MainMenuFill</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="6429699131277013" type="SaveBox">
                            <param id="0" name="Instance variable">Move</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="2" name="Set visible" sid="3693709705027469" type="SaveLoadList">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="6267919055519181">
            <conditions>
                <condition id="2" name="On clicked" sid="7797522459281794" type="SaveLoadList" />
            </conditions>
            <actions>
                <action id="10" name="Load image from URL" sid="9806253824468689" type="Thumbnail">
                    <param id="0" name="URI">WebStorage.LocalValue(SaveLoadList.SelectedText)</param>
                    <param id="1" name="Size">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9261931887379649">
            <conditions>
                <condition id="3" name="On double-clicked" sid="9719874816346385" type="SaveLoadList" />
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="5382895225476639" type="MainMenuFill">
                    <param id="0" name="Instance variable">Move</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4900012860133793">
            <conditions>
                <condition id="0" name="On key pressed" sid="9404168496848158" type="Keyboard">
                    <param id="0" name="Key">46 (Delete)</param>
                </condition>
            </conditions>
            <actions>
                <action id="2" name="Remove local value" sid="9575481985794369" type="WebStorage">
                    <param id="0" name="Key">SaveLoadList.SelectedText</param>
                </action>
                <action id="9" name="Remove" sid="7251892531959816" type="SaveLoadList">
                    <param id="0" name="Index">SaveLoadList.SelectedIndex</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9924382234648786">
            <conditions>
                <condition id="-30" name="On load failed" sid="3310793542536464" type="System" />
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="7741573099600499" type="System">
                    <param id="0" name="Layout">MainGame</param>
                </action>
                <action id="0" name="Alert" sid="3379283251979844" type="Browser">
                    <param id="0" name="Message">&quot;Failed to load save!&quot;&amp;newline&amp;&quot;Starting a new game&quot;</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
